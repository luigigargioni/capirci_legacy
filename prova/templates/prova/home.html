<!DOCTYPE html>
<html lang="en">
<head>
    {% load  filters %}
    <meta charset="utf-8">
    <link rel="stylesheet" href="../../static/prova/css/bootstrap.css">
    <link rel="stylesheet" href="../../static/prova/css/fontawesome.css">
    <link rel="stylesheet" href="../../static/prova/css/home.css">
    <link rel="stylesheet" href="../../static/prova/css/bootstrap-slider.min.css">
    <link rel="stylesheet" href="../../static/prova/css/tags.css">

    <link rel="shortcut icon" href="../../static/prova/images/brain.png"/>

    <script src="../../static/prova/js/jquery.js"></script>
    <script src="../../static/prova/js/popper.js"></script>
    <script src="../../static/prova/js/bootstrap.js"></script>
    <script src="../../static/prova/js/qrcodeMaker.js"></script>
    <script src="../../static/prova/js/instascan.js"></script>
    <script src="../../static/prova/js/pluralize.js"></script>
    <script src="../../static/prova/js/home.js"></script>
    <script src="../../static/prova/js/bootstrap-slider.min.js"></script>


    <title>CAPIRCI</title>

</head>

<body>

<!-- NAVBAR SUPERIORE -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
    <span onclick="openNav()" style="cursor: pointer; color:white!important;"><i class="fas fa-bars"></i></span>
    <a class="navbar-brand" href="/" style="margin-left: 20px"><i class="fas fa-home"></i> | CAPIRCI</a>
    <div class="dropdown" style="margin-left: 68vw">
        <a class="navbar-brand dropdown-toggle" id="dropdownMenuUser" data-toggle="dropdown">Welcome
            <i id="username">{{ user.get_username }}</i><span class="caret"></span></a>
        <ul class="dropdown-menu dropdown-menu-right">
            <li><a href="#" data-toggle="modal" data-target="#modalProfile" style="font-weight: bold; text-decoration: none">&ensp;<i
                    class="fas fa-user"></i>&ensp;Profile</a></li>
            <li class="dropdown-divider"></li>
            <li><a href="#" data-toggle="modal" data-target="#modalLogout" style="color: red; font-weight: bold; text-decoration: none">&ensp;<i
                    class="fas fa-sign-out-alt"></i>&ensp;Logout</a></li>
        </ul>
    </div>
</nav>
<!-- NAVBAR SUPERIORE -->

<!-- NAVBAR LATERALE -->
<div id="mySidenav" class="sidenav open">
    <a href="#" id="home_menu" class="link-clicked" onclick="showFeature(this)">Home</a>
    <a id="coll" href="/" inewObjectImgd="libraries_menu" data-toggle="collapse"
       data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">Libraries <i class="fas fa-sort-down"></i></a>

    <div id="collapseOne" class="collapse show" data-parent="#coll">
        <a href="#" id="task_menu" onclick="showTasks(this)">{% csrf_token %}Tasks</a>
        <a href="#" id="objects_menu" username="{{ user.get_username }}" onclick="showObjects(this)">{% load static %}{% csrf_token %}Objects</a>
        <a href="#" id="actions_menu" onclick="showActions(this)">{% csrf_token %}Actions</a>
        <a href="#" id="actions_menu" username="{{ user.get_username }}" onclick="showLocations(this)">{% csrf_token %}Locations</a>
    </div>
    <br>
    {% if request.user|has_group:"Manager" or user.is_staff %}
        <a href="#" id="usermanagement_menu" onclick="showUser(this)">{% csrf_token %}User management</a>
        <a href="#" id="robotmanagement_menu" onclick="showRobot(this)">{% csrf_token %}Robot management</a>
    {% endif %}
    <a href="#" id="myrobot_menu" username="{{ user.get_username }}" onclick="showMyRobot(this)">My robot</a>
    <a href="#" id="programming_menu" onclick="selectProgramming(this)">{% csrf_token %}Programming</a>
</div>
<!-- NAVBAR LATERALE -->

<!-- INTESTAZIONE -->
<div class="" style="margin-top: 2%">
    <div class="row">
        <div class="col-lg-12">
            <br>
            <br>
            <h5 id="subTitle">Main features</h5>
        </div>
    </div>
</div>
<!-- INTESTAZIONE -->


<div class="container-fluid" style=" margin-bottom: 2%;">

    <!-- CONTAINER SCHEDE -->
    <!-- CONTAINER SCHEDE PROGRAMMING -->
    <div id="row_programming_cards" class="col-lg-11 row justify-content-center d-none">
        <div class="card" id="card1" data-toggle="modal" data-target="#newChatModal">
            <img class="card-img-top" src="{% static 'prova/images/Card_Chat.png' %}" alt="Card image Chat">
            <div class="card-body">
                <h5 class="card-title">Chat</h5>
                <p class="card-text">Build the robot program by talking<br>in a chat</p>
            </div>
        </div>

        <div class="card" id="card2" data-toggle="modal" data-target="#newChatModal" style="height: 300px;">
            <img class="card-img-top" src="{% static 'prova/images/Card_Graphic.png' %}" alt="Card image Graphic">
            <div class="card-body">
                <h5 class="card-title">Graphic Interface</h5>
                <p class="card-text">Build the robot program using<br>drag and drop interface</p>
            </div>
        </div>
    </div>
    <!-- CONTAINER SCHEDE PROGRAMMING -->

    <!-- CONTAINER SCHEDE MAIN -->
    <div id="row_cards" class="col-lg-11 row justify-content-center">
        {% if request.user|has_group:"Manager" or user.is_staff %}
            <div class="card" id="card3" onclick="showUser($('#usermanagement_menu'))">
                <img class="card-img-top" src="{% static 'prova/images/Card_UserManagement.jpg' %}" alt="Card image UserManagement">
                <div class="card-body">
                    <h5 class="card-title">User management</h5>
                    <p class="card-text">Manage system user</p>
                </div>
            </div>

            <div class="card" id="card4" onclick="showRobot($('#robotmanagement_menu'))">
                <img class="card-img-top" src="{% static 'prova/images/Card_Robot.jpeg' %}" alt="Card image Robot">
                <div class="card-body">
                    <h5 class="card-title">Robot management</h5>
                    <p class="card-text">Manage the robots supported by the system</p>
                </div>
            </div>
        {% endif %}

        <div class="card" id="card5" onclick="showMyRobot($('#myrobot_menu'))">
            <img class="card-img-top" src="{% static 'prova/images/Card_myRobot.jpg' %}" alt="Card image myRobot">
            <div class="card-body">
                <h5 class="card-title">My robot</h5>
                <p class="card-text">Associate the robot to your profile</p>
            </div>
        </div>

        <div class="card" id="card6" onclick="selectProgramming($('#programming_menu'))">
            <img class="card-img-top" src="{% static 'prova/images/Card_Programming.jpeg' %}" alt="Card image Programming">
            <div class="card-body">
                <h5 class="card-title">Programming</h5>
                <p class="card-text">Create new task with Chat or Graphical interface</p>
            </div>
        </div>
    </div>
    <!-- CONTAINER SCHEDE MAIN -->
    <!-- CONTAINER SCHEDE -->

    <!-- CONTAINER TASK -->
    <div id="row_tasks" class="row justify-content-center d-none">
        <div class="chat" id="list_tasks_card">
            <div class="card_2 mb-sm-3 mb-md-0 contacts_card task_card_style">
                <div class="card-header">
                    <div class="user_info"><span><i class="fas fa-arrow-circle-left" onclick="showFeature(this)"
                                                    style="color: #007bff; cursor: pointer;"></i></span>
                        <a href="#" onclick="selectProgramming($('#programming_menu'))" class="drop_right"><i class="fas fa-plus"></i> Add new
                            task</a>
                    </div>
                </div>
                <div class="card-body contacts_body card_body_task">
                    <div class="row intestazioni"><span class="column"></span><span class="column">Name</span><span
                            class="column">Description</span><span class="column">Last modified</span></div>
                    <hr>
                    <ul class="contacts task_list_query">
                        <!--getTaskList-->
                    </ul>
                </div>
                <div class="card-footer"></div>
            </div>
        </div>
    </div>
    <!-- CONTAINER TASK -->

    <!-- CONTAINER OBJECT -->
    <div id="row_objects" class="row justify-content-center d-none">
        <div class="chat" id="list_obj_card">
            <div class="card_2 mb-sm-3 mb-md-0 contacts_card object_card_style">
                <div class="card-header">
                    <div class="user_info"><span><i class="fas fa-arrow-circle-left" onclick="showFeature(this)"
                                                    style="color: #007bff; cursor: pointer;"></i></span>
                        <a href="#" class="drop_right" onclick="openModalSelectRobotNewObject(this)" user="{{ user.get_username }}"><i
                                class="fas fa-plus"></i>{% csrf_token %}Add new object</a>
                    </div>
                </div>
                <div class="card-body contacts_body" id="object_list_noObject">
                    <div class="row object_list_query">
                        <!--getObjectList-->
                    </div>
                </div>
                <div class="card-footer"></div>
            </div>
        </div>
    </div>
    <!-- CONTAINER OBJECT -->

    <!-- CONTAINER ACTIONS -->
    <div id="row_actions" class="row justify-content-center d-none">
        <div class="chat" id="list_actions_card">
            <div class="card_2 mb-sm-3 mb-md-0 contacts_card action_card_style">
                <div class="card-header">
                    <div class="user_info"><span><i class="fas fa-arrow-circle-left" onclick="showFeature(this)"
                                                    style="color: #007bff; cursor: pointer;"></i></span>
                        <a href="#" data-toggle="modal" data-target="#modalNewAction" class="drop_right" onclick="openModalNewAction(this)"
                           user="{{ user.get_username }}"><i class="fas fa-plus"></i> Add new action</a>
                    </div>
                </div>
                <div class="card-body contacts_body card_body_action">
                    <div class="row intestazioni"><span class="column"></span><span class="column">Name</span><span class="column">Robot</span></div>
                    <hr>
                    <ul class="contacts action_list_query">
                        <!--getActionList-->
                    </ul>
                </div>
                <div class="card-footer"></div>
            </div>
        </div>
    </div>
    <!-- CONTAINER ACTIONS -->

    <!-- CONTAINER LOCATIONS -->
    <div id="row_locations" class="row justify-content-center d-none">
        <div class="chat" id="list_locations_card">
            <div class="card_2 mb-sm-3 mb-md-0 contacts_card location_card_style">
                <div class="card-header">
                    <div class="user_info"><span><i class="fas fa-arrow-circle-left" onclick="showFeature(this)"
                                                    style="color: #007bff; cursor: pointer;"></i></span>
                        <a href="#" data-toggle="modal" data-target="#modalNewLocation" class="drop_right" onclick="openModalNewLocation(this)"
                           user="{{ user.get_username }}"><i class="fas fa-plus"></i> Add new location</a>
                    </div>
                </div>
                <div class="card-body contacts_body card_body_action">
                    <div class="row intestazioni"><span class="column"></span><span class="column">Name</span><span class="column">Robot</span></div>
                    <hr>
                    <ul class="contacts location_list_query">
                        <!--getLocationList-->
                    </ul>
                </div>
                <div class="card-footer"></div>
            </div>
        </div>
    </div>
    <!-- CONTAINER LOCATIONS -->

    <!-- CONTAINER GESTIONE UTENTI -->
    <div id="row_user_management" class="row justify-content-center d-none">
        <div class="chat" id="list_user_card">
            <div class="card_2 mb-sm-3 mb-md-0 contacts_card user_card_style">
                <div class="card-header">
                    <div class="user_info"><span><i class="fas fa-arrow-circle-left" onclick="showFeature(this)"
                                                    style="color: #007bff; cursor: pointer;"></i></span>
                        <a href="#" data-toggle="modal" data-target="#modalNewUser" class="drop_right"><i class="fas fa-plus"></i> Add new user</a>
                    </div>
                </div>
                <div class="card-body contacts_body card_body_user">
                    <div class="row intestazioni"><span class="column"></span><span class="column">Username</span><span class="column">Role</span>
                    </div>
                    <hr>
                    <ul class="contacts user_list_query">
                        <!--getUserList-->
                    </ul>
                </div>
                <div class="card-footer"></div>
            </div>
        </div>
    </div>
    <!-- CONTAINER GESTIONE UTENTI -->

    <!-- CONTAINER GESTIONE ROBOT -->
    <div id="row_robot_management" class="row justify-content-center d-none">
        <div class="chat" id="list_robot_card">
            <div class="card_2 mb-sm-3 mb-md-0 contacts_card robot_card_style">
                <div class="card-header">
                    <div class="user_info"><span><i class="fas fa-arrow-circle-left" onclick="showFeature(this)"
                                                    style="cursor: pointer; color: #007bff;"></i></span>
                        <a href="#" data-toggle="modal" data-target="#modalNewRobot" onclick="openModalNewRobot()" class="drop_right"><i
                                class="fas fa-plus"></i> Add new robot</a>
                    </div>
                </div>
                <div class="card-body contacts_body card_body_robot">
                    <div class="row intestazioni"><span class="column"></span><span class="column">Name</span><span class="column">Model</span><span
                            class="column">IP</span>
                    </div>
                    <hr>
                    <ul class="contacts robot_list_query">
                        <!--getRobotList-->
                    </ul>
                </div>
                <div class="card-footer"></div>
            </div>
        </div>
    </div>
    <!-- CONTAINER GESTIONE ROBOT -->

    <!-- CONTAINER GESTIONE MYROBOT -->
    <div id="row_my_robot_management" class="row justify-content-center d-none">
        <div class="chat" id="list_my_robot_card">
            <div class="card_2 mb-sm-3 mb-md-0 contacts_card my_robot_card_style">
                <div class="card-header">
                    <div class="user_info"><span><i class="fas fa-arrow-circle-left" onclick="showFeature(this)"
                                                    style="cursor: pointer; color: #007bff;"></i></span>
                        <a href="#" data-toggle="modal" data-target="#modalMyNewRobot" onclick="openModalNewMyRobot()" class="drop_right"><i
                                class="fas fa-plus"></i> Add my robot</a>
                    </div>
                </div>
                <div class="card-body contacts_body card_body_my_robot">
                    <div class="row intestazioni"><span class="column"></span><span class="column">Name</span><span class="column">Model</span>
                    </div>
                    <hr>
                    <ul class="contacts my_robot_list_query">
                        <!--getMyRobotList-->
                    </ul>
                </div>
                <div class="card-footer"></div>
            </div>
        </div>
    </div>
    <!-- CONTAINER GESTIONE MYROBOT -->

</div>


<!-- FINESTRE MODALI --><!-- FINESTRE MODALI --><!-- FINESTRE MODALI --><!-- FINESTRE MODALI --><!-- FINESTRE MODALI -->

<!-- MODALE NUOVO TASK-->
<div class="modal fade" tabindex="-1" role="dialog" id="newChatModal" owner="{{ user.get_username }}">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">New task</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="task_name_form" class="needs-validation" novalidate>
                    <div class="form-group">
                        <label for="program_name">Choose a name for the task:</label>
                        <input name="program_name" type="text" class="form-control" id="program_name" aria-describedby="nameHelp"
                               placeholder="Enter name..." maxlength="30" required lang="en">
                        <div id="invalid-feedback-name" class="invalid-feedback">Please choose a task name.</div>
                        <small id="nameHelp">The full name must be less than 20 characters</small>
                    </div>
                    <div class="form-group">
                        <label for="inputDescription">Write a brief description of the task:</label>
                        <input name="inputDescription" lang="en" type="text" class="form-control" id="inputDescription"
                               placeholder="Enter description..."
                               maxlength="40" aria-describedby="descriptionHelp" required>
                        <div id="invalid-feedback-description" class="invalid-feedback">Please enter a short description of the task.</div>
                        <small id="descriptionHelp">The full description must be less than 40 characters</small>
                        <br><br>
                        <div class="switch_box box_1">
                            <input id="sharedNewTask" type="checkbox" class="switch_1">&nbsp;&nbsp;Shared
                        </div>
                        <small id="sharedHelp">Make program accessible to all</small>
                    </div>

                    <button type="button" class="btn btn-primary" onclick="validateInput()">Save</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </form>
            </div>
        </div>
    </div>
</div>
<!-- MODALE NUOVO TASK -->

<!-- MODALE DETTAGLIO OBJECT -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalObjectDetails">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalTitle">Object details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body row">
                <div class="column column_detail_img"><br><img id="expandedImg" style="width: 100%;"></div>
                <div class="column column_detail_img" id="description">
                    <label>Keywords:</label><br>
                    <div class="tags-input-edit" data-name="tags-input"></div>
                    <br><br>
                    <label id="errorKeywordsSaveChanges"></label>
                </div>
                <div class="modal-body"><label for="newObjectForceRange">Force intensity:</label>
                    <input type="range" class="custom-range" min="1" max="3" step="1" id="modifyObjectForceRange">
                    <br>
                    <small>Weak&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;Medium&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;Strong</small>
                    <br><br>
                    <label for="SelectRobotEditObject">Select robot:</label><select name="robot" id="SelectRobotEditObject">
                        <option disabled selected value hidden>Select robot ...</option>
                    </select>
                    <label id="errorSelectRobotEditObject" style="color: red;"></label>
                    <br>
                    <button class="btn btn-primary" id="takePositionModifyObject"
                            onclick="takePositionEditObject('{{ user.get_username }}')">{% csrf_token %}Define approach
                    </button>
                    <br><small style="color: red;" id="errorPositionDetailObject"></small>
                    <br><br>
                    <div class="switch_box box_1">
                        <input id="inputSharedObjectDetail" type="checkbox" class="switch_1">&nbsp;&nbsp;Shared
                    </div>
                    <br>
                </div>
            </div>
            <div class="modal-footer">
                <button id="saveChangesObject" type="button" class="btn btn-primary"
                        onclick="saveChangesObject('{{ user.get_username }}',$('#deleteObject').attr('object_name'))">Save changes
                </button>
                <button id="deleteObject" type="button" class="btn btn-danger" data-dismiss="modal" data-toggle="modal"
                        data-target="#modalDeleteObject" onclick="$('#deleteConfirm').attr('objectname',$('#deleteObject').attr('object_name'))">
                    Delete
                    object
                </button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE DETTAGLIO OBJECT -->


<!-- MODALE ELIMINA OBJECT -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalDeleteObject">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalTitle">Object details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <span>Are you sure you want to eliminate "</span><span id="eliminaObject"></span>"<span>?</span>
            </div>
            <div class="modal-footer">
                <button username="{{ user.get_username }}" id="deleteConfirm" type="button" class="btn btn-primary" onclick="deleteObject(this);"
                        data-dismiss="modal">{% csrf_token %}Yes
                </button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal" data-toggle="modal" data-target="#modalDeleteObject">No
                </button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE ELIMINA OBJECT -->

<!-- MODALE ELIMINA LOCATION -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalDeleteLocation">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalTitle">Location details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <span>Are you sure you want to eliminate "</span><span id="eliminaLocation"></span>"<span>?</span>
            </div>
            <div class="modal-footer">
                <button username="{{ user.get_username }}" id="deleteConfirm" type="button" class="btn btn-primary" onclick="deleteLocation(this);"
                        data-dismiss="modal">{% csrf_token %}Yes
                </button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal" data-toggle="modal" data-target="#modalDeleteLocation">No
                </button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE ELIMINA LOCATION -->

<!-- MODALE ELIMINA ACTION -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalDeleteAction">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalTitle">Action details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <span>Are you sure you want to eliminate "</span><span id="eliminaAction"></span>"<span>?</span>
            </div>
            <div class="modal-footer">
                <button username="{{ user.get_username }}" id="deleteConfirm" type="button" class="btn btn-primary" onclick="deleteAction(this);"
                        data-dismiss="modal">{% csrf_token %}Yes
                </button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal" data-toggle="modal" data-target="#modalDeleteAction">No
                </button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE ELIMINA ACTION -->

<!-- MODALE ELIMINA TASK -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalDeleteTask">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="titleDelete">Task details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <span>Are you sure you want to delete "</span><span id="eliminaTask"></span><span>" ?</span>
            </div>
            <div class="modal-footer">
                <button id="deleteConfirm" type="button" class="btn btn-primary" onclick="deleteTask()"
                        data-dismiss="modal">{% csrf_token %}Yes
                </button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE ELIMINA TASK -->

<!-- MODALE QR CODE ROBOT -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalqrRobot">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Robot QR Code</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body" id="modalqr-body">
                <div align="center" id="qrcodeRobotModal" onmouseover="this.title='';"></div>
                <br>
                <div align="center">
                    <label id="qrcode-idlabel"></label><br>
                    <label id="qrcode-namelabel"></label><br>
                    <label id="qrcode-modellabel"></label><br>
                    <label id="qrcode-iplabel"></label><br>
                    <label id="qrcode-portlabel"></label><br>
                    <label id="qrcode-cameralabel"></label>
                </div>
            </div>
            <div class="modal-footer">
                <button id="qrPrint" type="button" class="btn btn-primary" onclick="qrModalPrint()"
                        data-dismiss="modal">{% csrf_token %}Print
                </button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE QR CODE ROBOT -->

<!-- MODALE LOGOUT -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalLogout">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Logout</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <span>Are you sure to logout?</span>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="location.href='/accounts/logout/'">{% csrf_token %}Yes
                </button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE LOGOUT -->

<!-- MODALE PROFILO -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalProfile">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Change password</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <small>
                    <i class="fas fa-lock"></i> Minimum 8 characters<br>
                    <i class="fas fa-lock"></i> Almost a number (0-9)<br>
                    <i class="fas fa-lock"></i> Almost a lowercase letter (a-z)<br>
                    <i class="fas fa-lock"></i> Almost an uppercase letter (A-Z)
                </small>
                <form method="post">
                    <br>
                    <small>Enter old password:</small>
                    <input class="form-control" aria-describedby="nameHelp" placeholder="Old password ..." maxlength="30" required lang="en"
                           type="password" id="myOldPassword">
                    <small id="ErrorOldPassword" style="color: red"></small>
                    <br>
                    <small>Enter new password:</small>
                    <input class="form-control" aria-describedby="nameHelp" placeholder="New password ..." maxlength="30" required lang="en"
                           type="password" id="myNewPassword">
                    <small id="ErrorNewPassword" style="color: red"></small>
                    <br>
                    <small>Repeat new password:</small>
                    <input class="form-control" aria-describedby="nameHelp" placeholder="Repeat new password ..." maxlength="30" required lang="en"
                           type="password" id="myRepeatPassword">
                    <small id="ErrorRepeatPassword" style="color: red"></small>
                    <br>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary"
                        onclick="changeMyPassword('{{ user.get_username }}', $('#myOldPassword'), $('#myNewPassword'), $('#myRepeatPassword'))">{% csrf_token %}Save
                </button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE PROFILO -->

<!-- MODALE ELIMINA USER -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalDeleteUser">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">User details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <span>Are you sure you want to delete "</span><span id="eliminaUser"></span><span>" ?</span>
            </div>
            <div class="modal-footer">
                <button id="deleteConfirm" type="button" class="btn btn-primary" onclick="deleteUser()"
                        data-dismiss="modal">{% csrf_token %}Yes
                </button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE ELIMINA USER -->

<!-- MODALE ELIMINA ROBOT -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalDeleteRobot">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Robot details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <span>Are you sure you want to delete "</span><span id="eliminaRobot"></span><span>" ?</span>
            </div>
            <div class="modal-footer">
                <button id="deleteConfirm" type="button" class="btn btn-primary" onclick="deleteRobot()"
                        data-dismiss="modal">{% csrf_token %}Yes
                </button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE ELIMINA ROBOT -->

<!-- MODALE ELIMINA MY ROBOT -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalDeleteMyRobot">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Robot details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <span>Are you sure you want to delete "</span><span id="eliminaMyRobot"></span><span>" ?</span>
            </div>
            <div class="modal-footer">
                <button id="deleteConfirm" type="button" class="btn btn-primary" onclick="deleteMyRobot('{{ user.get_username }}')"
                        data-dismiss="modal">{% csrf_token %}Yes
                </button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE ELIMINA MY ROBOT -->

<!-- MODALE MODIFICA USER -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalEditUser">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Profile</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <small>
                    <i class="fas fa-lock"></i> Minimum 8 characters<br>
                    <i class="fas fa-lock"></i> Almost a number (0-9)<br>
                    <i class="fas fa-lock"></i> Almost a lowercase letter (a-z)<br>
                    <i class="fas fa-lock"></i> Almost an uppercase letter (A-Z)
                </small>
                <form method="post">
                    <br>
                    <label>Password:</label>
                    <input class="form-control" aria-describedby="nameHelp" placeholder="Enter password..." maxlength="30" required lang="en"
                           type="password" id="ResetNewPassword">
                    <small id="ResetErrorNewPassword" style="color: red"></small>
                    <br>
                    <br>
                    <label>Confirm password:</label>
                    <input class="form-control" aria-describedby="nameHelp" placeholder="Confirm password..." maxlength="30" required lang="en"
                           type="password" id="ResetRepeatPassword">
                    <small id="ResetErrorRepeatPassword" style="color: red"></small>
                    <br>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary"
                        onclick="changePassword($('#modalEditUser').attr('username'), $('#ResetNewPassword'), $('#ResetRepeatPassword'))">{% csrf_token %}Save
                </button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE MODIFICA USER -->

<!-- MODALE MY PASSWORD MODIFICATA CON SUCCESSO -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalPasswordModifyConfirm">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Operation details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true" onclick="window.location.href = '/accounts/login/';">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <span>Password modified succesfully.<br>
                You will be redirect to the login page</span>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="window.location.href = '/accounts/login/';">Ok</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE MY PASSWORD MODIFICATA CON SUCCESSO -->

<!-- MODALE OBJECT MODIFICATO CON SUCCESSO -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalObjectDetailsConfirmChanges">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Operation details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true" onclick="getObjectsList('{{ user.get_username }}')">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <span>Object modified succesfully</span>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="getObjectsList('{{ user.get_username }}')">Ok</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE OBJECT MODIFICATO CON SUCCESSO -->

<!-- MODALE USER PASSWORD MODIFICATA CON SUCCESSO -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalPasswordModifyConfirmUser">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Operation details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <span>Password modified succesfully</span>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">Ok</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE USER PASSWORD MODIFICATA CON SUCCESSO -->

<!-- MODALE NEW USER -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalNewUser">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">New user</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <small>
                    <i class="fas fa-lock"></i> Minimum 8 characters<br>
                    <i class="fas fa-lock"></i> Almost a number (0-9)<br>
                    <i class="fas fa-lock"></i> Almost a lowercase letter (a-z)<br>
                    <i class="fas fa-lock"></i> Almost an uppercase letter (A-Z)
                </small>
                <br><br>
                <form method="post">
                    <label>Enter username:</label>
                    <input class="form-control" aria-describedby="nameHelp" placeholder="Username ..." maxlength="30" required lang="en" type="text"
                           id="NewUserUsername">
                    <small id="NewUserErrorUsername" style="color: red"></small>
                    <br>
                    <label>Enter password:</label>
                    <input class="form-control" aria-describedby="nameHelp" placeholder="Password ..." maxlength="30" required lang="en"
                           type="password" id="NewUserNewPassword">
                    <small id="NewUserErrorNewPassword" style="color: red"></small>
                    <br>
                    <label>Confirm password:</label>
                    <input class="form-control" aria-describedby="nameHelp" placeholder="Confirm password ..." maxlength="30" required lang="en"
                           type="password" id="NewUserRepeatPassword">
                    <small id="NewUserErrorRepeatPassword" style="color: red"></small>
                    <br>
                    <label>Select role:</label>
                    <br>
                    <select name="role" id="NewUserSelectRole" class="form-control">
                        <option disabled selected value hidden>Select role ...</option>
                        <option value="Operator">Operator</option>
                        <option value="Manager">Manager</option>
                    </select><br>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary"
                        onclick="newUser($('#NewUserUsername'), $('#NewUserNewPassword'), $('#NewUserRepeatPassword'), $('#NewUserSelectRole'))">{% csrf_token %}Save
                </button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE NEW USER -->

<!-- MODALE SELECT ROBOT NEW OBJECT -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalSelectRobotNewObject">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Select robot to add new object</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <label for="SelectRobotNewObject">Select robot:</label><select name="robot" id="SelectRobotNewObject">
                <option disabled selected value hidden>Select robot ...</option>
            </select>
                <label id="errorSelectRobotNewObject" style="color: red;"></label>
                <br>
                <label>Object name:</label>
                <input type="text" id="SelectRobotObjectName"><br>
                <label id="errorSelectRobotObjectName" style="color: red;"></label>
                <br>
                <label>Object keywords: (press Enter after every word)</label><br>
                <div class="tags-input" data-name="tags-input"></div>
                <br>
                <small>(Object name and its plural we'll be added automatically)</small>
                <br>
                <label id="errorSelectRobotObjectKeywords" style="color: red;"></label>
                <br>
                <label for="newObjectForceRange">Force intensity:</label>
                <input type="range" class="custom-range" min="1" max="3" step="1" value="2" id="newObjectForceRange">
                <br>
                <small>Weak&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;Medium&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;Strong</small>
                <br><br>
                <button class="btn btn-outline-primary" id="takePositionObjectButton" onclick="takePositionObject('{{ user.get_username }}')">{% csrf_token %}Define
                    approach
                </button>
                <br><small style="color: red;" id="errorPositionApproachNewObject"></small>
                <br><br>
                <div class="switch_box box_1">
                    <input id="checkboxSelectRobotNewObject" type="checkbox" class="switch_1">&nbsp;&nbsp;Shared
                </div>
                <br>
            </div>
            <div class="modal-footer">
                <button id="SelectRobotNext" type="button" class="btn btn-primary" onclick="openModalNewObject('{{ user.get_username }}')">Next
                </button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE SELECT ROBOT NEW OBJECT -->

<!-- MODALE NEW OBJECT -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalNewObject">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">New object</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="deleteObjectImage('{{ user.get_username }}')">
                    {% csrf_token %}<span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <button type="button" class="btn btn-primary" onclick="takeShot('{{ user.get_username }}')">Take shot</button>
                &nbsp;<label id="spinnerNewObject"></label><br><br>
                <img id="newObjectImg" src="../../static/prova/images/brain.png"
                     style="padding: 0px 100px 0px 100px; opacity: 0.3; width: 556px; height: 314.5px; border: 2px solid black">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary"
                        onclick="saveObject('{{ user.get_username }}')">{% csrf_token %}Save
                </button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal"
                        onclick="deleteObjectImage('{{ user.get_username }}')">{% csrf_token %}Cancel
                </button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE NEW OBJECT -->

<!-- MODALE NEW ROBOT -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalNewRobot">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">New robot</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form method="post">
                    <label>Robot name:</label>
                    <input class="form-control" aria-describedby="nameHelp" placeholder="Enter name..." maxlength="30" required lang="en" type="text"
                           id="NewRobotName">
                    <small id="NewRobotErrorName" style="color: red"></small>
                    <br><br>
                    <label>Robot IP:</label>
                    <input class="form-control" aria-describedby="nameHelp" placeholder="Enter IP..." maxlength="30" required lang="en"
                           type="text" id="NewRobotIP">
                    <small id="NewRobotErrorIP" style="color: red"></small>
                    <br><br>
                    <label>Robot port number:</label>
                    <input class="form-control" aria-describedby="portHelp" placeholder="Enter port number..." maxlength="7" required lang="en"
                           type="number" id="NewRobotPort">
                    <br><br>
                    <label>Robot camera IP:</label>
                    <input class="form-control" aria-describedby="nameHelp" placeholder="Enter IP camera..." maxlength="30" required lang="en"
                           type="text" id="NewRobotIPCamera">
                    <small id="NewRobotErrorIPCamera" style="color: red"></small>
                    <br><br>
                    <label>Select model:</label>
                    <select name="role" id="NewRobotSelectModel">
                        <option disabled selected value hidden>Select robot model ...</option>
                        <option value="C">Cobotta</option>
                        <option value="V">VS-060</option>
                    </select><br>
                    <small id="NewRobotErrorModel" style="color: red"></small>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary"
                        onclick="newRobot($('#NewRobotName'), $('#NewRobotIP'), $('#NewRobotSelectModel'), $('#NewRobotPort'), $('#NewRobotIPCamera'))">{% csrf_token %}Save
                </button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE NEW ROBOT -->

<!-- MODALE MY NEW ROBOT -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalMyNewRobot">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">My new robot</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form method="post">
                    <label>Robot name:</label>
                    <input class="form-control" aria-describedby="nameHelp" placeholder="Enter name..." maxlength="30" required lang="en" type="text"
                           id="MyNewRobotName">
                    <small id="MyNewRobotErrorName" style="color: red"></small>
                    <br><br>
                    <label>Robot code:</label>
                    <div class="input-group mb-3">
                        <input class="form-control" aria-describedby="nameHelp" placeholder="Enter code..." maxlength="30" required lang="en"
                               type="number" id="MyNewRobotCode">
                        <div class="input-group-append">
                            <button class="btn btn-outline-primary" type="button" id="qrcodeMyNewRobot" data-toggle="modal"
                                    data-target="#modalSearchQr" onclick="openModalSearchQR()"><i class="fas fa-qrcode"></i></button>
                        </div>
                    </div>
                    <small id="MyNewRobotErrorCode" style="color: red"></small>
                </form>
                <br>
                <button type="button" class="btn btn-outline-primary" onclick="checkConnectionRobot($('#MyNewRobotCode').val())">{% csrf_token %}Check
                    connection
                </button><br>
                <small id="MyNewRobotCheckConnection"></small>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary"
                        onclick="MyNewRobot($('#MyNewRobotName'), $('#MyNewRobotCode'), '{{ user.get_username }}')">{% csrf_token %}Save
                </button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE MY NEW ROBOT -->

<!-- MODALE SEARCH QR -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalSearchQr">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Search QR code </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <span class="btn btn-primary btn-file">
                    <input type="file" class="custom-file-input" accept="image/x-png" id="choosenImgQr" onchange="readImgQr(this);"
                           style="float: left">{% csrf_token %}Choose file
                </span>
                <script src="../../static/prova/js/qrcodeReader.js"></script>
                <label style="display: inline-block; margin-left: 23%; margin-right: 23%; "><i>alternately</i></label>
                <button class="btn btn-primary" onclick="useCamera()" style="float: right">{% csrf_token %}Use camera</button>
                <br><br>
                <img id="qrCodeImg" src="../../static/prova/images/image.png" style="width: 45%; height: 40%; border: 2px solid black">
                <video id="previewVideoQr" style="float: right; width: 45%; height: 40%; border: 2px solid black"
                       poster="../../static/prova/images/camera.png"></video>
                <br><br><label>Information decoded:&nbsp;</label><i><label id="descriptionSearchQr"></label></i><br>
                <label style="color: red" id="errorQRCodeReturn"></label>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" onclick="returnQrCode()">
                    Use this code
                </button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE SEARCH QR -->


<!-- MODALE MODIFICA ROBOT -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalEditRobot">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Edit robot: <span id="editRobot"></span></h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form method="post">
                    <label>Robot name:</label>
                    <input class="form-control" aria-describedby="nameHelp" placeholder="Enter name" maxlength="30" required lang="en" type="text"
                           id="EditRobotName">
                    <small id="EditRobotErrorName" style="color: red"></small>
                    <br><br>
                    <label>Robot IP:</label>
                    <input class="form-control" aria-describedby="nameHelp" placeholder="Enter IP" maxlength="30" required lang="en"
                           type="text" id="EditRobotIP">
                    <small id="EditRobotErrorIP" style="color: red"></small>
                    <br><br>
                    <label>Robot port number:</label>
                    <input class="form-control" aria-describedby="nameHelp" placeholder="Enter port number" maxlength="30" required lang="en"
                           type="text" id="EditRobotPort">
                    <br><br>
                    <label>Robot camera IP:</label>
                    <input class="form-control" aria-describedby="nameHelp" placeholder="Enter IP" maxlength="30" required lang="en"
                           type="text" id="EditRobotIPCamera">
                    <small id="EditRobotErrorIPCamera" style="color: red"></small>
                    <br><br>
                    <label>Select model:</label>
                    <select name="role" id="EditRobotSelectModel">
                        <option value="C">Cobotta</option>
                        <option value="V">VS-060</option>
                    </select><br>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary"
                        onclick="editRobot($('#modalEditRobot').attr('robotid'), $('#EditRobotName'), $('#EditRobotIP'), $('#EditRobotSelectModel'), $('#EditRobotPort'), $('#EditRobotIPCamera'))">{% csrf_token %}Save
                </button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE MODIFICA ROBOT -->

<!-- MODALE MODIFICA MY ROBOT -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalEditMyRobot">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Edit robot: <span id="editMyRobot"></span></h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form method="post">
                    <label>Robot name: </label>
                    <input class="form-control" aria-describedby="nameHelp" placeholder="Enter name..." maxlength="30" required lang="en" type="text"
                           id="EditMyRobotName">
                    <small id="EditMyRobotErrorName" style="color: red"></small>
                    <br>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary"
                        onclick="editMyRobot($('#modalEditMyRobot').attr('robotname'), $('#EditMyRobotName').val(), '{{ user.get_username }}')">{% csrf_token %}Save
                </button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE MODIFICA MY ROBOT -->

<!-- MODALE NEW LOCATION -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalNewLocation">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">New location</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <label for="SelectRobotNewLocation">Select robot:</label><select name="robot" id="newLocationSelectRobot">
                <option disabled selected value hidden>Select robot ...</option>
            </select>
                <br>
                <small id="newLocationErrorSelectRobot" style="color: red"></small>
                <br><br>
                <label>Name:</label>
                <input type="text" id="newLocationName">
                <br>
                <small id="newLocationErrorName" style="color: red"></small>
                <br><br>
                <button class="btn btn-outline-primary" id="btnTakePositionLocation" onclick="takePosition('{{ user.get_username }}')">{% csrf_token %}Take
                    position
                </button><br>
                <small style="color: red;" id="errorPositionNewLocation"></small>
                <br><br>
                <div class="switch_box box_1">
                    <input id="checkboxSharedNewLocation" type="checkbox" class="switch_1">&nbsp;&nbsp;Shared
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary"
                        onclick="saveLocation('{{ user.get_username }}')">{% csrf_token %}Save
                </button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE NEW LOCATION -->

<!-- MODALE NEW ACTION -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalNewAction">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">New action</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <label for="SelectRobotNewAction">Select robot:</label><select name="robot" id="newActionSelectRobot">
                <option disabled selected value hidden>Select robot ...</option>
            </select>
                <br>
                <small id="newActionErrorSelectRobot" style="color: red"></small>
                <br><br>
                <label>Name:</label>
                <input type="text" id="newActionName">
                <br>
                <small id="newActionErrorName" style="color: red"></small>
                <br><br>
                <button class="btn btn-outline-primary" id="btnTakePositionAction" onclick="takePositionAction('{{ user.get_username }}')">{% csrf_token %}Take
                    point
                </button>
                <br>
                <small style="color: red;" id="errorPositionNewAction"></small>
                <br><br>
                <div class="switch_box box_1">
                    <input id="checkBoxSharedNewAction" type="checkbox" class="switch_1">&nbsp;&nbsp;Shared
                </div>
            </div>
            <div class="card-body contacts_body card_body_action">
                <ul class="contacts action_list_point">

                </ul>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary"
                        onclick="saveAction('{{ user.get_username }}')">{% csrf_token %}Save
                </button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE NEW ACTION -->

<!-- MODALE NEW USER CREATO CON SUCCESSO -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalNewUserConfirm">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Operation details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="getUserList()">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <span>User created succesfully</span>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="getUserList()">Ok</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE NEW USER CREATO CON SUCCESSO -->

<!-- MODALE NEW ACTION CREATO CON SUCCESSO -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalNewActionConfirm">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Operation details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="getActionList('{{ user.get_username }}')">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <span>Action created succesfully</span>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="getActionList('{{ user.get_username }}')">Ok</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE NEW ACTION CREATO CON SUCCESSO -->

<!-- MODALE QR CODE NON VALIDO -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalQrCodeNotValid">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Operation details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="$('#modalSearchQr').modal('show');">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <span>QR code not valid</span>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="$('#modalSearchQr').modal('show');">Ok</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE QR CODE NON VALIDO -->


<!-- MODALE RUN TASK -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalRunTask">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Do you want to run "<span id="taskToRun"></span>" ?</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <label for="SelectRobotRunTask">Select robot:</label><select name="robot" id="SelectRobotRunTask">
                <option disabled selected value hidden>Select robot ...</option>
            </select>
                <label id="errorSelectRobotRunTask" style="color: red;"></label>
            </div>
            <div class="modal-footer">
                <button id="runTaskConfirm" type="button" class="btn btn-primary" onclick="runTask(this)">{% csrf_token %}Run</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE RUN TASK -->

<!-- MODALE ROBOT MODIFICATO CON SUCCESSO -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalEditRobotConfirm">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Operation details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="getRobotList()">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <span>Robot modified succesfully</span>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="getRobotList()">Ok</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE ROBOT MODIFICATO CON SUCCESSO -->

<!-- MODALE MY ROBOT MODIFICATO CON SUCCESSO -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalEditMyRobotConfirm">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Operation details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="getMyRobotList('{{ user.get_username }}')">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <span>Robot modified succesfully</span>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="getMyRobotList('{{ user.get_username }}')">Ok</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE MY ROBOT MODIFICATO CON SUCCESSO -->

<!-- MODALE NEW ROBOT CREATO CON SUCCESSO -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalNewRobotConfirm">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Operation details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="getRobotList()">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <span>Robot created succesfully</span>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="getRobotList()">Ok</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE NEW ROBOT CREATO CON SUCCESSO -->

<!-- MODALE MY NEW ROBOT CREATO CON SUCCESSO -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalMyNewRobotConfirm">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Operation details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="getMyRobotList('{{ user.get_username }}')">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <span>Robot associated succesfully</span>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="getMyRobotList('{{ user.get_username }}')">Ok</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE MY NEW ROBOT CREATO CON SUCCESSO -->

<!-- MODALE MODIFICA TASK -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalModifyTask">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="titleModify"></h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="switch_box box_1">
                    <input id="sharedModifyTask" type="checkbox" class="switch_1">&nbsp;&nbsp;Shared
                </div>
                <br>
                <label id="errorModifyTask" style="color: red;"></label><br><br>
                <button id="editTaskStructure" class="btn btn-primary" type="button" onclick="openDetailTask()">Edit task structure</button>
            </div>
            <div class="modal-footer">
                <button id="deleteConfirm" type="button" class="btn btn-primary" onclick="modifyTask()">{% csrf_token %}Save
                </button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE MODIFICA TASK -->


<!-- MODALE MODIFICA LOCATION -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalModifyLocation">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="title-modifyLocation">Location details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <label>Robot:&nbsp;</label><br>
                <input type="text" disabled id="robotNameModifyLocation"><br><br>
                <button id="btnTakePositionModifyLocation" class="btn btn-primary" onclick="takePositionModifyLocation('{{ user.get_username }}')">
                    Take position
                </button><br>
                <small id="errorTakePositionModifyLocation"></small><br><br>
                <div class="switch_box box_1">
                    <input id="sharedModifyLocation" type="checkbox" class="switch_1">&nbsp;&nbsp;Shared
                </div>
                <br>
                <label id="errorSharedModifyLocation" style="color: red;"></label>
            </div>
            <div class="modal-footer">
                <button id="deleteConfirm" type="button" class="btn btn-primary" onclick="modifyLocation()">{% csrf_token %}Save
                </button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE MODIFICA LOCATION -->

<!-- MODALE TASK MODIFICATO CON SUCCESSO -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalModifyTaskConfirm">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Operation details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="getTaskList('{{ user.get_username }}')">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <span>Task modified succesfully</span>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="getTaskList('{{ user.get_username }}')">Ok</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE TASK MODIFICATO CON SUCCESSO -->

<!-- MODALE OBJECT CREATO CON SUCCESSO -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalNewObjectConfirm">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Operation details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="getObjectsList('{{ user.get_username }}')">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <span>Object created succesfully</span>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="getObjectsList('{{ user.get_username }}')">Ok</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE OBJECT CREATO CON SUCCESSO -->

<!-- MODALE LOCATION ELIMINATA CON SUCCESSO -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalDeleteLocationConfirm">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Operation details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="getLocationList('{{ user.get_username }}')">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <span>Location deleted succesfully</span>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="getLocationList('{{ user.get_username }}')">Ok</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE LOCATION ELIMINATA CON SUCCESSO -->

<!-- MODALE ACTION ELIMINATA CON SUCCESSO -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalDeleteActionConfirm">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Operation details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="getActionList('{{ user.get_username }}')">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <span>Action deleted succesfully</span>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="getActionList('{{ user.get_username }}')">Ok</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE ACTION ELIMINATA CON SUCCESSO -->

<!-- MODALE LOCATION MODIFICATA CON SUCCESSO -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalModifyLocationConfirm">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Operation details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="getLocationList('{{ user.get_username }}')">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <span>Location modified succesfully</span>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="getLocationList('{{ user.get_username }}')">Ok</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE LOCATION MODIFICATA CON SUCCESSO -->

<!-- MODALE TASK ELIMINATO CON SUCCESSO -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalDeleteTaskConfirm">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Operation details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="getTaskList('{{ user.get_username }}')">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <span>Task deleted succesfully</span>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="getTaskList('{{ user.get_username }}')">Ok</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE TASK ELIMINATO CON SUCCESSO -->

<!-- MODALE LOCATION CREATA CON SUCCESSO -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalNewLocationConfirm">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Operation details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="getLocationList('{{ user.get_username }}')">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <span>Location created succesfully</span>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="getLocationList('{{ user.get_username }}')">Ok</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE LOCATION CREATA CON SUCCESSO -->

<!-- MODALE ESECUZIONE TASK -->
<div class="modal fade" tabindex="-1" role="dialog" id="modalRunTaskResult">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Operation details</h5>
                <button id="closableRunTaskModal" type="button" class="close" data-dismiss="modal" aria-label="Close" disabled>
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <i id="objectExistRunTaskResultIcon" class="fas fa-cog fa-spin"></i>
                <span>Object exists</span><br>
                <i id="placeExistRunTaskResultIcon" class="fas fa-cog fa-spin"></i>
                <span>Place exists</span><br>
                <i id="actionExistRunTaskResultIcon" class="fas fa-cog fa-spin"></i>
                <span id="actionExistRunTaskResult">Action exists</span><br>
                <i id="objectFoundRunTaskResultIcon" class="fas fa-cog fa-spin"></i>
                <span id="objectFoundRunTaskResult">Object found by robot</span><br>
                <i id="taskFinishRunTaskResultIcon" class="fas fa-cog fa-spin"></i>
                <span id="taskFinishRunTaskResult">Task finished successfully</span>
            </div>
            <div class="modal-footer">
                <button id="buttonOkRunTaskModal" type="button" class="btn btn-primary" data-dismiss="modal" disabled>Ok</button>
            </div>
        </div>
    </div>
</div>
<!-- MODALE ESECUZIONE TASK -->

</body>
<script src="../../static/prova/js/tags.js"></script>
</html>